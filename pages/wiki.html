<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ویکی - دانشنامه آزاد</title>
    
    <link rel="icon" type="image/svg+xml" href="/assets/images/logo.svg">
    <link rel="apple-touch-icon" href="/assets/images/logo.svg">
    <link rel="shortcut icon" href="/assets/images/logo.svg">
    
    <link rel="stylesheet" href="/assets/Font/fontiran.css">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scrollbar-width: auto;
            scrollbar-color: #E02F3A #1a1a1b;
        }

        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #1a1a1b;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, #E02F3A 0%, #b82530 100%);
            border-radius: 5px;
            border: 2px solid #1a1a1b;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, #ff3b47 0%, #E02F3A 100%);
        }

        ::-webkit-scrollbar-corner {
            background: #1a1a1b;
        }

        body {
            font-family: 'IRANSans', 'AbarLowFaNum', Arial, sans-serif;
            background: #020203;
            color: #ffffff;
            min-height: 100vh;
            line-height: 1.8;
        }

        .wiki-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        .wiki-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            margin-bottom: 2rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .wiki-logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: #ffffff;
        }

        .wiki-logo img {
            width: 40px;
            height: 40px;
            filter: brightness(0) invert(1);
        }

        .wiki-logo span {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .back-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            color: #ffffff;
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .wiki-title-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .wiki-title-section h1 {
            font-size: 2rem;
            color: #E02F3A;
            margin-bottom: 0.5rem;
        }

        .wiki-subtitle {
            color: rgba(255, 255, 255, 0.6);
            font-size: 1rem;
        }

        .wiki-layout {
            display: grid;
            grid-template-columns: 320px 1fr;
            gap: 2rem;
            align-items: start;
        }

        .wiki-menu-card {
            background: #161617;
            border-radius: 16px;
            padding: 1.5rem;
            position: sticky;
            top: 2rem;
        }

        .menu-title {
            font-size: 1rem;
            font-weight: 700;
            color: #E02F3A;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .menu-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.875rem 1rem;
            margin-bottom: 0.5rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            text-decoration: none;
            color: #ffffff;
            transition: all 0.2s ease;
            cursor: pointer;
            border: 1px solid transparent;
        }

        .menu-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .menu-item.active {
            background: rgba(224, 47, 58, 0.2);
            border: 1px solid rgba(224, 47, 58, 0.4);
        }

        .menu-item-right {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .menu-icon {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

        .menu-item-title {
            font-size: 0.95rem;
        }

        .menu-item-count {
            display: flex;
            align-items: center;
            justify-content: center;
            min-width: 28px;
            height: 24px;
            padding: 0 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .wiki-content-card {
            background: #161617;
            border-radius: 16px;
            padding: 2rem;
            color: #ffffff;
            min-height: 500px;
        }

        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .content-header h2 {
            font-size: 1.25rem;
            color: #ffffff;
        }

        .content-header small {
            color: rgba(255, 255, 255, 0.5);
            font-size: 0.85rem;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.6);
        }

        .breadcrumb-item {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            cursor: pointer;
            transition: color 0.2s ease;
        }

        .breadcrumb-item:hover {
            color: #E02F3A;
        }

        .breadcrumb-item.active {
            color: #E02F3A;
        }

        .breadcrumb-separator {
            color: rgba(255, 255, 255, 0.3);
        }

        .resolution-list {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .resolution-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid transparent;
        }

        .resolution-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .resolution-item.active {
            background: rgba(224, 47, 58, 0.15);
            border: 1px solid rgba(224, 47, 58, 0.3);
        }

        .resolution-icon {
            width: 20px;
            height: 20px;
            opacity: 0.7;
        }

        .resolution-title {
            font-size: 0.95rem;
        }

        .content-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1.5rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .content-table tr {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .content-table tr:last-child {
            border-bottom: none;
        }

        .content-table tr:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .content-table td {
            padding: 1rem 1.25rem;
            vertical-align: middle;
        }

        .content-table td:first-child {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.9rem;
            font-weight: 600;
            width: 160px;
            background: rgba(255, 255, 255, 0.03);
            border-left: 1px solid rgba(255, 255, 255, 0.1);
        }

        .content-table td:last-child {
            color: #ffffff;
            font-size: 0.95rem;
        }

        .content-table a {
            color: #E02F3A;
            text-decoration: none;
        }

        .content-table a:hover {
            text-decoration: underline;
        }

        .content-description {
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .content-description h3 {
            font-size: 1.1rem;
            color: #ffffff;
            margin-bottom: 1rem;
        }

        .content-description p {
            color: rgba(255, 255, 255, 0.7);
            line-height: 2;
        }

        .empty-state {
            text-align: center;
            padding: 3rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .empty-state svg {
            width: 64px;
            height: 64px;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        .empty-state p {
            font-size: 1rem;
        }

        @media (max-width: 1024px) {
            .wiki-layout {
                grid-template-columns: 1fr;
            }

            .wiki-menu-card {
                position: relative;
                top: 0;
                order: -1;
            }
        }

        @media (max-width: 768px) {
            .wiki-container {
                padding: 1rem;
            }

            .wiki-title-section h1 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="wiki-container">
        <header class="wiki-header">
            <a href="/home" class="wiki-logo">
                <img src="/assets/images/logo.svg" alt="لوگو">
                <span>دانشنامه آزاد</span>
            </a>
            <a href="/home" class="back-btn">
                <span>بازگشت به خانه</span>
            </a>
        </header>

        <div class="wiki-title-section">
            <h1>ویکی</h1>
            <p class="wiki-subtitle">مجموعه مصوبات سازمان‌های مرتبط با اینترنت در ایران</p>
        </div>

        <div class="wiki-layout">
            <div class="wiki-menu-card">
                <div class="menu-title">سازمان‌ها</div>
                <div id="organizationList"></div>
            </div>

            <div class="wiki-content-card">
                <div id="contentArea"></div>
            </div>
        </div>
    </div>

    <script>
        const wikiData = {
            organizations: [
                {
                    id: 'tanzim',
                    name: 'سازمان تنظیم مقررات و ارتباطات رادیویی',
                    resolutions: [
                        {
                            id: 'res-266',
                            title: 'مصوبه ۲۶۶',
                            otherName: 'ندارد',
                            date: '۲۱ آبان ۱۳۹۶',
                            provider: 'کمیسیون تنظیم مقررات ارتباطات (سازمان تنظیم مقررات و ارتباطات رادیویی)',
                            updateDate: 'ندارد',
                            description: 'این مصوبه در راستای تعیین قیمت‌گذاری تعرفه‌های اینترنت در ایران توسط کمیسیون تنظیم مقررات ارتباطات وابسته به سازمان تنظیم مقررات و ارتباطات رادیویی تعیین شده است. این مصوبه به عنوان یک مدل حمایتی برای تحقق اهداف شبکه ملی اطلاعات ۲۱ آذر سال ۹۶ تصویب و کمتر از یک ماه بعد به تمام اپراتورها و شرکت‌های ارائه دهنده خدمات اینترنت ابلاغ شد.\n\nاین مصوبه سقف و کف تعرفه‌گذاری اینترنت در ایران را مشخص کرده است. ضمنا براساس همین مصوبه ترافیک مصرفی کاربران اینترنت ایران به دو بخش ترافیک داخلی و بین‌المللی تقسیم شده است و هرکدام از این ترافیک‌ها قیمت مشخصی دارند. این اعمال تفاوت در دسترسی به اینترنت موجب نقض بی‌طرفی شبکه (دسترسی یکسان و بدون تبعیض کاربران به اینترنت)‌ توسط ایران شده است. در این مصوبه بخشی با عنوان «آستانه مصرف منصفانه» نیز درج شده است که در سال ۱۴۰۱ به اپراتورها کمک کرد، بدون زیرپا گذاشتن مصوبه بتوانند قیمت‌های خود را به شدت افزایش دهند؛ موضوعی که برخلاف هدف مصوبه ۲۶۶ یعنی ایجاد رقابت و قیمت‌گذاری منصفانه در حوزه دسترسی به اینترنت بود. برای توضیح به طور خلاصه، آستانه مصرف منصفانه میزانی از سقف مصرف است که توسط اپراتور تعیین می‌شود و اگر مشترک بیشتر از این ترافیک مصرف کند، به سرویس کم‌کیفیت پایه بازگشت داده می‌شود. برای بازگرداندن سرویس اصلی، مشترک باید حجم بیشتری خریداری کند. اپراتور با دستکاری میزان حجم «آستانه‌منصفانه» می‌تواند کاربر را به واریز پول بیشتر وادار کند.',
                            effects: 'تمام کاربران اینترنت در ایران تحت تاثیر این سند هستند که به طور مشخص شیوه قیمت‌گذاری اینترنت در ایران را تعیین می‌کند. در نظر گرفتن «سقف مصرف منصفانه» برای مشترک و مجوز دادن به اپراتور برای دستکاری این سقف از کاستی‌های این مصوبه است که موجب شده، در عین گرانی هزینه تمام شده اینترنت برای مشترکان، اپراتور کار غیرقانونی انجام نداده باشد.\n\nتغییر ترافیک مصرفی کاربر به دو بخش داخلی و بین‌المللی و تعیین تعرفه‌های جداگانه برای آنها باعث نقض بی‌طرفی شبکه شده است.',
                            supporters: 'امیر ناظمی، معاون وزیر ارتباطات- محمدجواد آذری جهرمی،‌وزیر ارتباطات'
                        }
                    ]
                },
                {
                    id: 'senfi',
                    name: 'سازمان نظام صنفی رایانه‌ای',
                    resolutions: [
                        {
                            id: 'senfi-1',
                            title: 'مقررات صنفی',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'سازمان نظام صنفی رایانه‌ای',
                            updateDate: 'ندارد',
                            description: 'اطلاعات مربوط به این مصوبه در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'shora',
                    name: 'شورای عالی فضای مجازی',
                    resolutions: [
                        {
                            id: 'shora-1',
                            title: 'مصوبه اول',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-2',
                            title: 'مصوبه دوم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-3',
                            title: 'مصوبه سوم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-4',
                            title: 'مصوبه چهارم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-5',
                            title: 'مصوبه پنجم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-6',
                            title: 'مصوبه ششم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-7',
                            title: 'مصوبه هفتم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-8',
                            title: 'مصوبه هشتم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-9',
                            title: 'مصوبه نهم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-10',
                            title: 'مصوبه دهم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-11',
                            title: 'مصوبه یازدهم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'shora-12',
                            title: 'مصوبه دوازدهم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'شورای عالی فضای مجازی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'seda',
                    name: 'صدا و سیما',
                    resolutions: [
                        {
                            id: 'seda-1',
                            title: 'مقررات پخش',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'صدا و سیما',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'majles',
                    name: 'مجلس شورای اسلامی',
                    resolutions: [
                        {
                            id: 'majles-1',
                            title: 'قانون اول',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'مجلس شورای اسلامی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'majles-2',
                            title: 'قانون دوم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'مجلس شورای اسلامی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        },
                        {
                            id: 'majles-3',
                            title: 'قانون سوم',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'مجلس شورای اسلامی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'pazhohesh',
                    name: 'مرکز پژوهش‌های مجلس',
                    resolutions: [
                        {
                            id: 'pazh-1',
                            title: 'گزارش پژوهشی',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'مرکز پژوهش‌های مجلس',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'ershad',
                    name: 'وزارت ارشاد و فرهنگ اسلامی',
                    resolutions: [
                        {
                            id: 'ershad-1',
                            title: 'بخشنامه فرهنگی',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'وزارت ارشاد و فرهنگ اسلامی',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                },
                {
                    id: 'samat',
                    name: 'وزارت صنعت، معدن و تجارت',
                    resolutions: [
                        {
                            id: 'samat-1',
                            title: 'مقررات تجاری',
                            otherName: 'ندارد',
                            date: 'در دست تکمیل',
                            provider: 'وزارت صنعت، معدن و تجارت',
                            updateDate: 'ندارد',
                            description: 'اطلاعات در حال تکمیل است.'
                        }
                    ]
                }
            ]
        };

        let currentState = {
            selectedOrg: null,
            selectedResolution: null
        };

        function toPersianNumber(num) {
            const persianDigits = ['۰', '۱', '۲', '۳', '۴', '۵', '۶', '۷', '۸', '۹'];
            return num.toString().replace(/\d/g, d => persianDigits[d]);
        }

        function saveState() {
            localStorage.setItem('wikiState', JSON.stringify(currentState));
        }

        function loadState() {
            const saved = localStorage.getItem('wikiState');
            if (saved) {
                try {
                    currentState = JSON.parse(saved);
                } catch (e) {
                    currentState = { selectedOrg: null, selectedResolution: null };
                }
            }
        }

        function renderOrganizations() {
            const container = document.getElementById('organizationList');
            container.innerHTML = '';

            wikiData.organizations.forEach(org => {
                const item = document.createElement('div');
                item.className = 'menu-item' + (currentState.selectedOrg === org.id ? ' active' : '');
                item.innerHTML = `
                    <div class="menu-item-right">
                        <svg class="menu-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                        </svg>
                        <span class="menu-item-title">${org.name}</span>
                    </div>
                    <span class="menu-item-count">${toPersianNumber(org.resolutions.length)}</span>
                `;
                item.addEventListener('click', () => selectOrganization(org.id));
                container.appendChild(item);
            });
        }

        function selectOrganization(orgId) {
            currentState.selectedOrg = orgId;
            currentState.selectedResolution = null;
            saveState();
            renderOrganizations();
            renderContent();
        }

        function selectResolution(resId) {
            currentState.selectedResolution = resId;
            saveState();
            renderContent();
        }

        function renderContent() {
            const container = document.getElementById('contentArea');
            
            if (!currentState.selectedOrg) {
                container.innerHTML = `
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                        </svg>
                        <p>یک سازمان را از لیست سمت راست انتخاب کنید</p>
                    </div>
                `;
                return;
            }

            const org = wikiData.organizations.find(o => o.id === currentState.selectedOrg);
            if (!org) return;

            if (!currentState.selectedResolution) {
                let html = `
                    <div class="content-header">
                        <h2>${org.name}</h2>
                        <small>${toPersianNumber(org.resolutions.length)} مصوبه</small>
                    </div>
                    <div class="resolution-list">
                `;

                org.resolutions.forEach(res => {
                    html += `
                        <div class="resolution-item" onclick="selectResolution('${res.id}')">
                            <svg class="resolution-icon" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
                            </svg>
                            <span class="resolution-title">${res.title}</span>
                        </div>
                    `;
                });

                html += '</div>';
                container.innerHTML = html;
            } else {
                const res = org.resolutions.find(r => r.id === currentState.selectedResolution);
                if (!res) return;

                container.innerHTML = `
                    <div class="breadcrumb">
                        <span class="breadcrumb-item" onclick="selectOrganization('${org.id}')">${org.name}</span>
                        <span class="breadcrumb-separator">/</span>
                        <span class="breadcrumb-item active">${res.title}</span>
                    </div>
                    <div class="content-header">
                        <h2>${res.title}</h2>
                        <small>${org.name}</small>
                    </div>

                    <table class="content-table">
                        <tr>
                            <td>نام دیگر</td>
                            <td>${res.otherName}</td>
                        </tr>
                        <tr>
                            <td>تاریخ طرح اولیه</td>
                            <td>${res.date}</td>
                        </tr>
                        <tr>
                            <td>ارایه دهنده</td>
                            <td>${res.provider}</td>
                        </tr>
                        <tr>
                            <td>تاریخ به روزرسانی</td>
                            <td>${res.updateDate}</td>
                        </tr>
                    </table>

                    <div class="content-description">
                        <h3>شرح و تاریخچه</h3>
                        <p>${res.description.replace(/\\n/g, '<br>')}</p>
                    </div>
                    ${res.effects ? `
                    <div class="content-description">
                        <h3>اثرات</h3>
                        <p>${res.effects.replace(/\\n/g, '<br>')}</p>
                    </div>
                    ` : ''}
                    ${res.supporters ? `
                    <div class="content-description">
                        <h3>موافقان</h3>
                        <p>${res.supporters}</p>
                    </div>
                    ` : ''}
                `;
            }
        }

        function saveScrollPosition() {
            currentState.scrollTop = window.scrollY;
            saveState();
        }

        function restoreScrollPosition() {
            if (currentState.scrollTop) {
                setTimeout(() => {
                    window.scrollTo(0, currentState.scrollTop);
                }, 50);
            }
        }

        window.addEventListener('scroll', debounce(saveScrollPosition, 200));
        window.addEventListener('beforeunload', saveScrollPosition);

        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        loadState();
        renderOrganizations();
        renderContent();
        restoreScrollPosition();
    </script>
</body>
</html>
